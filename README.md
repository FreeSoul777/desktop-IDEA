# desktop-IDEA

## Введение.
В текущей информационной эпохе безопасность конфиденциальной информации играет критически важную роль. Для обеспечения надежной защиты используются различные методы шифрования. Один из самых распространенных методов шифрования - создание шифровальщика файлов на основе симметричного блочного алгоритма IDEA, который использует блоки размером 128 бит и ключи переменной длины. В данной работе исследуется создание кроссплатформенного desktop-приложения, которое обеспечивает защиту конфиденциальной информации с помощью алгоритма IDEA. Основная задача заключается в разработке программного обеспечения, которое позволит пользователям защитить их файлы от несанкционированного доступа. Этот шифровальщик файлов может быть применен в повседневной жизни, для защиты личной и коммерческой информации. 

## Основная часть.
IDEA (International Data Encryption Algorithm) – блочный шифр симметричного типа, который был разработан компанией ETH Zurich в 1991 году [1]. Он широко применяется в различных системах защиты данных и в системах электронной коммерции. 
Главное преимущество IDEA заключается в его безопасности, так как данный алгоритм достаточно сложен для взлома методами перебора [2]. Он использует мощное и тщательно проверенное сочетание смены медленного шифрования и быстрой арифметики.

## Описание работы алгоритма IDEA.
Метод шифрования IDEA является блочным шифром симметричного типа, то есть использует один и тот же ключ для шифрования и дешифрования данных. Он работает с блоками данных по 64 бита (8 байт). Для процесса шифрования используется 128-битный ключ, который обрабатывается путем многократного раундирования данных [3].
Алгоритм IDEA состоит из нескольких основных этапов. Первый этап - это генерация раундовых ключей. Генерация ключей происходит из основного пароля, который вводится пользователем и который сам по себе не используется для шифрования данных. Начальный пароль обрабатывается различными методами, включая генерацию подключа и сдвигов, для получения раундовых ключей, которые будут использоваться в процессе шифрования.
Следующим этапом является сам процесс шифрования. IDEA использует последовательность раундов, которые многократно применяются к данным для того, чтобы сделать их более невосприимчивыми к взлому. В каждом раунде происходит операция подстановки, перемешивания и складывания. В конечном итоге, после выполнения всех раундов, данные будут зашифрованы и будут выглядеть случайным образом.
IDEA поддерживает несколько режимов шифрования данных. В режиме ECB (Electronic Codebook) каждый блок данных обрабатывается независимо, что делает данную схему очень быстрой, однако, это также делает ее больше всего подверженной взлому из всех режимов. В режиме CBC (Cipher Block Chaining) каждый блок данных зависит от предыдущего, что делает этот режим более безопасным, однако, менее производительным. Режим CFB (Cipher Feedback) позволяет шифровать данные произвольной длины, при этом, существует задержка в передаче данных. Режим OFB (Output Feedback) - позволяет шифровать данные произвольной длины, и не имеет задержки в передаче данных, однако, это делает его менее безопасным, чем режим CBC.

## Описание интерфейса приложения.
При разработке desktop-приложения, пользовательский интерфейс имеет ключевое значение. Программа должна быть удобной и простой в использовании для обычных пользователей. Интерфейс должен предоставлять пользователю выбор файлов (или папок), которые будут зашифрованы, а также настройки шифрования. Важно убедиться, что пользователи могут легко понимать, как использовать приложение, и что оно дает им достаточно гибкости для настройки параметров шифрования.
В дальнейшем наше desktop-приложение будет содержать в себе следующие элементы интерфейса:
•	Выбор файлов для шифрования. Пользователи смогут выбирать какие файлы нужно зашифровать и в какую папку сохранить результат работы шифровальщика.
•	Кнопки для выбора режима работы IDEA. Пользователи могут выбирать режимы CBC, ECB, CFB и OFB.
•	Кнопки для выбора шифрования и дешифрования.
•	Ввод ключа. Пользователи должны ввести ключ шифрования, который используется для защиты файлов. Мы также можем предоставить пользователю возможность генерации ключа.
•	Вспомогательная информация. Мы можем добавить сообщения об ошибках, индикатор прогресса и другую вспомогательную информацию в интерфейс программы.
Приложение IDEA должно быть легко использовать и иметь простой интерфейс без дополнительных хлопот для пользователя. Его задача - обеспечить защиту пользовательских файлов и папок, а не увеличивать сложность использования компьютера.
Для создания интерфейса был выбран JavaFX – платформа на основе Java для создания насыщенного графического интерфейса в приложениях. На Рис. 1 представлен готовый интерфейс шифровальщика.

![Снимок экрана 2023-08-20 152826](https://github.com/FreeSoul777/desktop-IDEA/assets/95954920/f69ce331-7faf-45c5-9f92-1033716ab1b4)

## Программная реализация шифровальщика.
Внешний вид приложения был написан в layout.fxml, но для взаимодействия с пользователем нужно написать еще и контроллер, реализован в Controller.java, который отвечает за прослушивание действий: нажатие кнопок, переключение режимов шифрования, - и обратную связь с пользователем через шкалу прогресса и поле статуса выполнения программы. 
Сам же алгоритм шифрования IDEA реализован в отдельном пакете cipher и разбит на подпакеты и отдельные классы. В пакете cipher.modes реализованы четыре режима шифрование OFB, CBC, CFB, ECB в одноименных классах. В пакете cipher.crypto написано три класса: BlockCipher.java – является абстрактным классом для наследования любого класса алгоритма блочного шифрования; Idea.java – класс, в котором реализованы базовые (основные) функции для работы алгоритма блочного шифрования IDEA; MathAlgo.java – в этом классе реализованы функции побайтового изменения информации; OperationMode.java – класс для выбора одного из четырех режима шифрования; ThreadPool.java – класс пула потоков, который отвечает за обработку каждой задачи отдельным потоком; Cipher.java – главный класс приложения, который отвечает за обработку отдельного файла: чтение файла, вызов алгоритма шифрования для блока прочитанной информации, запись измененного блока информации в новый файл, сохранение нового файла, закрытие исходного и нового файлов, а так же отсылает всю обратную связь пользователю относительно изменения файла. 
В классе Controller.java, после нажатия на кнопку Run, вызывается функция handleRun() (см. Приложение А, package prog.view, Controller.java). В ней по очереди для каждого файла формируется задача task класса Cipher со следующими параметрами – исходный файл для шифрования, результирующий файл (файл с измененной информацией), ключ, действия шифрование/дешифрование, режим работы алгоритма – CBC, OFB, ECB, FCB. Такая задача task помещается в очередь пула потоков, где ее обрабатывает освободившийся поток. За счет работы пула потоков создается многопоточность, которая ускоряет работу шифровальщика. 
